version: '3.8'  # 固定版本，保证兼容性

# 定义服务（可添加数据库/redis等依赖服务）
services:
  app:
    build: .  # 基于当前目录的Dockerfile构建镜像
    volumes:
      # 关键：挂载本地代码到容器，实现“本地修改→容器实时生效”
      # Mac端：替换为 - /Users/你的用户名/Projects/docker-dev-project:/app
      # Windows/WSL端：替换为 - /home/你的用户名/Projects/docker-dev-project:/app
      - 本地项目绝对路径:/app
    ports:
      # 端口映射，两边保持一致（本地端口:容器端口）
      - "8000:8000"
    environment:
      # 环境变量，两边统一（如数据库地址、调试模式）
      - DEBUG=True
      - PYTHONUNBUFFERED=1  # 保证容器日志实时输出
    restart: always  # 容器异常退出时自动重启

# 可选：如果有数据库，添加命名卷（跨平台数据持久化）
# volumes:
#   db_data:
